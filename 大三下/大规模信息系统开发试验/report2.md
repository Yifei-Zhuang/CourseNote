# 大规模系统开发实验第二阶段小结

##### 3200105872 庄毅非

## 阶段总结

在这个阶段，我主要做了如下的工作：

### 开发方面

1. 将负责爬虫实现的`晚饭沙滩车`同学爬取下来的57000多条数据导入到mysql中，并将数据同步到elasticsearch的`goods`索引中，方便搜索使用，脚本详见`dbinit`文件夹。
2. 将姜同学的ES服务模块整合到了后端服务中，并进行了一定程度的扩展，比如支持了模糊搜索，支持按照价格排序搜索结果，支持分页查询，支持分类查询等等，方便前端调用；并根据使用的es-starter版本，在服务器上安装了对应的elasticsearch版本，实现了二轮迭代的核心需求；安装了对应的分词插件，可以支持多种搜索需求，现在搜索接口可以在400ms左右查询出结果并返回给前端。
3. 实现了后端订单的创建、通过、拒绝以及统计的接口，方便前端实现对应需求。
4. 撰写定时部署脚本，实现的持续集成。
5. 将吴同学的评论模块整合到项目中，实现了商品评论功能。
6. 和前端同学联合调试，进行前后端整合。



以上工作均push到了github的仓库中，在完成之后均进行了单元测试和压力测试（使用jmeter实现），能够保证大规模用户情况下的服务高可用。

### 文档方面

参与撰写的后端各个模块的测试报告，包括功能测试，安全测试，压力测试；绘制了后端的类图。

## 未来展望

1. 目前项目的监控还只能够依赖于简单的htop监控，期待未来能够实现基于Prometheus和Grafana的生产级监控和告警的一站式管理平台。



## 心得

​	后端开发要优化的地方还是挺多的，我在第二阶段就优化了不少个点，比如使druid维护mysql连接池，避免重复好创建连接；引入持续集成，方便上线服务跟进开发进度等。另外，我们在开发的时候也要注意合理分配工作给相关同学，要尽量避免因为个人原因，导致项目整体开发被延误的情况发生。